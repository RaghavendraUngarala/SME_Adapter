@inject NavigationManager NavManager
@inject IDialogService DialogService

<style>
    @@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap');

    .success-dialog {
        font-family: 'Poppins', 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
    }

    .success-title {
        font-weight: 800;
        font-size: 2rem;
        letter-spacing: -0.02em;
    }

    .success-message {
        font-weight: 600;
        font-size: 1.2rem;
    }

    .success-icon-wrapper {
        animation: scaleIn 0.5s ease-out;
    }

    @@keyframes scaleIn {
        0% {
            transform: scale(0);
        }

        50% {
            transform: scale(1.1);
        }

        100% {
            transform: scale(1);
        }
    }

    .confetti {
        font-size: 2rem;
        animation: float 3s ease-in-out infinite;
    }

    @@keyframes float {
        0%, 100% {
            transform: translateY(0);
        }

        50% {
            transform: translateY(-10px);
        }
    }
</style>

<MudDialog Class="success-dialog" MaxWidth="MaxWidth.Small">
    <!-- Header -->
    <TitleContent>
        <MudStack AlignItems="AlignItems.Center" Spacing="3" Class="pa-4">
            <div class="success-icon-wrapper">
                <MudAvatar Size="Size.Large"
                           Style="width: 80px; height: 80px; background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <MudIcon Icon="@Icons.Material.Filled.CheckCircle"
                             Style="font-size: 3rem; color: white;" />
                </MudAvatar>
            </div>
            <MudText Class="success-title">
                Congratulations! 🎉
            </MudText>
        </MudStack>
    </TitleContent>

    <!-- Body -->
    <DialogContent>
        <MudStack AlignItems="AlignItems.Center" Spacing="3" Class="pa-4">
            <MudPaper Class="pa-4" Elevation="0" Style="background: #f0fdf4; border-radius: 12px; text-align: center;">
                <MudText Class="success-message" Color="Color.Success">
                    You've successfully added your first product!
                </MudText>
            </MudPaper>

            <MudText Typo="Typo.body1" Align="Align.Center" Color="Color.Secondary" Style="font-size: 1rem;">
                Great job! Your product catalog is now set up and ready to grow.
            </MudText>

            <MudDivider Style="width: 80%;" />

            <MudStack Spacing="2" Style="width: 100%;">
                <MudText Typo="Typo.subtitle2" Style="font-weight: 700; color: #666;">
                    What's next?
                </MudText>
                <MudStack Row="true" Spacing="2" AlignItems="AlignItems.Start">
                    <MudIcon Icon="@Icons.Material.Filled.Add" Color="Color.Primary" Size="Size.Small" />
                    <MudText Typo="Typo.body2" Color="Color.Secondary">Add more products to your catalog</MudText>
                </MudStack>
                
            </MudStack>
        </MudStack>
    </DialogContent>

    <!-- Actions -->
    <DialogActions>
        <MudStack Row="true" Justify="Justify.Center" Spacing="3" Style="width: 100%; padding: 24px;">
            <MudButton Variant="Variant.Filled"
                       Color="Color.Success"
                       OnClick="ViewProducts"
                       StartIcon="@Icons.Material.Filled.Visibility"
                       Size="Size.Large"
                       Style="font-weight: 600; min-width: 200px;">
                View My Products
            </MudButton>
            <MudButton Variant="Variant.Outlined"
                       Color="Color.Default"
                       OnClick="CloseDialog"
                       Size="Size.Large"
                       Style="font-weight: 600; min-width: 120px;">
                Close
            </MudButton>
        </MudStack>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter]
    private IMudDialogInstance MudDialog { get; set; }

    private void ViewProducts()
    {
        MudDialog.Close(DialogResult.Ok(true));
        NavManager.NavigateTo("/viewproducts");
    }

    private void CloseDialog()
    {
        MudDialog.Cancel();
        NavManager.NavigateTo("/viewproducts");
    }
}